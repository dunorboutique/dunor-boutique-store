---
import BaseAuth from "./BaseAuth.astro"
import ErrorMessage from "@components/ui/ErrorMessage.astro"

interface Props {
  siteTitle: string
  title: string
  bgImage: string
}
const { siteTitle, title, bgImage } = Astro.props as Props
const errorMessage = Astro.url.searchParams.get("error")
---

<BaseAuth title={siteTitle}>
  <main class="flex w-full h-screen">
    <img
      src={bgImage}
      alt="Modelo en traje de gala blanco"
      class="hidden md:block md:w-[45%] lg:w-1/2 xl:w-3/4 2xl:w-4/5 h-full object-cover"
      loading="lazy"
    />
    <section class="flex flex-col items-center gap-20 py-10 w-full">
      <a href="/" class="shrink-0 px-4">
        <img src="/icons/dunor.svg" alt="DUNOR logo" class="w-52" />
      </a>
      <div class="flex flex-col gap-4">
        <h1 class="text-4xl font-medium">{title}</h1>
        {errorMessage && <ErrorMessage error={errorMessage} />}
        <slot />
      </div>
    </section>
  </main>
</BaseAuth>
